<Directives xmlns="http://schemas.microsoft.com/netfx/2013/01/metadata">
    <Application>
        <!-- Preserve all types in the main assembly for Native AOT.
             This is REQUIRED because FastEndpoints uses reflection (GetMethods) 
             at runtime to check if endpoints implement Configure().
             The source generator preserves type references but NOT method metadata.
             See: Benchmark/NativeAOT/FastEndpointsNativeAOT/rd.xml for reference. -->
        <!-- <Assembly Name="Web" Dynamic="Required All" /> -->
        
        <!-- NOTE: Testing revealed that all other assemblies can be safely removed!
             FastEndpoints uses source generators which eliminate the need for runtime reflection.
             
             Previously preserved assemblies (no longer needed):
             - FastEndpoints (source-generated discovery)
             - FastEndpoints.Attributes (compile-time only)
             - FluentValidation (properly trimmed by AOT)
             - Microsoft.AspNetCore.* (properly handled by trimmer)
             - System.Text.Json (source-generated serialization)
        -->
    </Application>
</Directives>
